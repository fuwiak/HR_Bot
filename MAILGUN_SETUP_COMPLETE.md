# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mailgun API - –ì–æ—Ç–æ–≤–æ!

## üìã –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ Mailgun

- **Sandbox Domain:** `sandbox918cbae406f944fbb421b934b43387e7.mailgun.org`
- **Base URL:** `https://api.mailgun.net`
- **API Key:** –ü–æ–ª—É—á–∏—Ç–µ –≤ Mailgun Dashboard ‚Üí Settings ‚Üí API Keys
- **Sending API Key:** –ü–æ–ª—É—á–∏—Ç–µ –≤ Mailgun Dashboard ‚Üí Settings ‚Üí API Keys
- **Authorized Recipient:** `a-novoselova07@yandex.ru`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ —Ñ–∞–π–ª–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ Railway Variables

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway Dashboard ‚Üí Variables:

```bash
# Mailgun API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –≤ Mailgun Dashboard ‚Üí Settings ‚Üí API Keys
MAILGUN_API_KEY=–≤–∞—à_api_–∫–ª—é—á_–∏–∑_mailgun
# –ò–õ–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Sending API Key:
# MAILGUN_SENDING_API_KEY=–≤–∞—à_sending_api_–∫–ª—é—á_–∏–∑_mailgun

MAILGUN_DOMAIN=sandbox918cbae406f944fbb421b934b43387e7.mailgun.org

# Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–±—É–¥–µ—Ç –≤ –ø–æ–ª–µ From)
YANDEX_EMAIL=a-novoselova07@yandex.ru
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** 
- –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_api_–∫–ª—é—á_–∏–∑_mailgun` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á –∏–∑ –≤–∞—à–µ–≥–æ Mailgun –∞–∫–∫–∞—É–Ω—Ç–∞
- –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤ git!
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–æ–¥–∏–Ω** –∏–∑ –∫–ª—é—á–µ–π: –ª–∏–±–æ `MAILGUN_API_KEY`, –ª–∏–±–æ `MAILGUN_SENDING_API_KEY`
- –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–ª—é—á

---

## üìß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –§–æ—Ä–º–∞—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏:

```python
POST https://api.mailgun.net/v3/sandbox918cbae406f944fbb421b934b43387e7.mailgun.org/messages
Auth: Basic (username: "api", password: –≤–∞—à_api_–∫–ª—é—á)
Data:
  from: "HR Bot <a-novoselova07@yandex.ru>"
  to: –ø–æ–ª—É—á–∞—Ç–µ–ª—å@example.com
  subject: –¢–µ–º–∞ –ø–∏—Å—å–º–∞
  text: –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏:

1. **Mailgun API** (–µ—Å–ª–∏ `MAILGUN_API_KEY`/`MAILGUN_SENDING_API_KEY` –∏ `MAILGUN_DOMAIN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
2. **Resend API** (–µ—Å–ª–∏ `RESEND_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
3. **SMTP** (fallback, –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Railway)

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Sandbox –¥–æ–º–µ–Ω–∞

**–í–∞–∂–Ω–æ:** Sandbox –¥–æ–º–µ–Ω –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å **–¢–û–õ–¨–ö–û** –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞!

### –¢–µ–∫—É—â–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏:
- ‚úÖ `a-novoselova07@yandex.ru`

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å:

1. **–î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ Mailgun:**
   - Mailgun Dashboard ‚Üí **Send** ‚Üí **Sending** ‚Üí **Domain Settings**
   - –í—ã–±–µ—Ä–∏—Ç–µ sandbox –¥–æ–º–µ–Ω –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
   - –í–∫–ª–∞–¥–∫–∞ **Setup** ‚Üí **Authorized Recipients**
   - –î–æ–±–∞–≤—å—Ç–µ email –∞–¥—Ä–µ—Å
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

2. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω:**
   - –î–æ–±–∞–≤—å—Ç–µ `bettercallbober.ru` –≤ Mailgun
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–æ–º–µ–Ω (–¥–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏)
   - –û–±–Ω–æ–≤–∏—Ç–µ `MAILGUN_DOMAIN=bettercallbober.ru`
   - –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ **–ª—é–±—ã–µ** –∞–¥—Ä–µ—Å–∞!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Railway** (Deploy/Restart)
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üîÑ –ü—Ä–æ–±—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ Mailgun API...
üìß –ò—Å–ø–æ–ª—å–∑—É—é Mailgun API: –æ—Ç=a-novoselova07@yandex.ru, –∫=–ø–æ–ª—É—á–∞—Ç–µ–ª—å@example.com
‚úÖ Email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Mailgun API (ID: ...): –ø–æ–ª—É—á–∞—Ç–µ–ª—å@example.com - –¢–µ–º–∞
```

---

## üêõ –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—à–∏–±–∫–∞ 403 (Forbidden):

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–µ –≤ —Å–ø–∏—Å–∫–µ Authorized Recipients

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ Mailgun Dashboard ‚Üí Authorized Recipients
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω

### –û—à–∏–±–∫–∞ 401 (Unauthorized):

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `MAILGUN_API_KEY` –∏–ª–∏ `MAILGUN_SENDING_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –∫–ª—é—á –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –û—à–∏–±–∫–∞ 402 (Payment Required):

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç (100 emails/–¥–µ–Ω—å –¥–ª—è sandbox)

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
- –ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ Mailgun –ø–ª–∞–Ω

---

## üìù –ü—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏

–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Mailgun API, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```python
# –í email_helper.py —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
# 1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç MAILGUN_API_KEY –∏–ª–∏ MAILGUN_SENDING_API_KEY
# 2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç MAILGUN_DOMAIN
# 3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å –∞–¥—Ä–µ—Å–∞ YANDEX_EMAIL (a-novoselova07@yandex.ru)
# 4. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Basic Auth —Å username "api"
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–∏—Å—å–º–∞ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ Mailgun API —Å –∞–¥—Ä–µ—Å–∞ `a-novoselova07@yandex.ru`!

**–ü–æ–º–Ω–∏—Ç–µ:** Sandbox –¥–æ–º–µ–Ω –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω `bettercallbober.ru`.
