# üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

Telegram –±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –≤ Qdrant Cloud. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **PDF** (.pdf) ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **Word** (.docx, .doc) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç—ã Microsoft Word
- **Excel** (.xlsx, .xls) ‚Äî —Ç–∞–±–ª–∏—Ü—ã Excel (–≤—Å–µ –ª–∏—Å—Ç—ã)
- **–¢–µ–∫—Å—Ç** (.txt) ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

## üìã –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 20 –ú–ë
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞:** 50 —Å–∏–º–≤–æ–ª–æ–≤
- **–ö–æ—Ä–æ—Ç–∫–∏–µ —á–∞–Ω–∫–∏:** –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è —á–∞–Ω–∫–∏ –∫–æ—Ä–æ—á–µ 10 —Å–∏–º–≤–æ–ª–æ–≤

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –°–ø–æ—Å–æ–± 1: –ö–æ–º–∞–Ω–¥–∞ /upload

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/upload`
2. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç

### –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞

–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤ —á–∞—Ç —Å –±–æ—Ç–æ–º ‚Äî –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è.

## üìù –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **–ó–∞–≥—Ä—É–∑–∫–∞** ‚Äî —Ñ–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏–∑ Telegram
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** ‚Äî —Ç–µ–∫—Å—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
3. **–ß–∞–Ω–∫–∏–Ω–≥** ‚Äî —Ç–µ–∫—Å—Ç —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ 500 —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º 50 —Å–∏–º–≤–æ–ª–æ–≤
4. **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏** ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
5. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è** ‚Äî —á–∞–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Qdrant Cloud
6. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** ‚Äî –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```
1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Ñ–∞–π–ª: "–ú–µ—Ç–æ–¥–∏–∫–∏ –ø–æ–¥–±–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞.pdf"
2. –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ‚Üí 15 —á–∞–Ω–∫–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
3. –ó–∞–¥–∞–µ—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ö–∞–∫–∏–µ –º–µ—Ç–æ–¥–∏–∫–∏ –ø–æ–¥–±–æ—Ä–∞ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ?"
4. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞

```
1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ: "–ü—Ä–∞–π—Å-–ª–∏—Å—Ç —É—Å–ª—É–≥.xlsx"
2. –ë–æ—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ –ª–∏—Å—Ç—ã
3. –í–æ–ø—Ä–æ—Å: "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø–æ–¥–±–æ—Ä HR-–º–µ–Ω–µ–¥–∂–µ—Ä–∞?"
4. –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–µ
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```
1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ.docx"
2. –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç 25 —á–∞–Ω–∫–æ–≤
3. –í–æ–ø—Ä–æ—Å: "–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é?"
4. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
```

## üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑:

### 1. RAG –ø–æ–∏—Å–∫
```
/rag_search [–∑–∞–ø—Ä–æ—Å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É]
```

### 2. –û–±—ã—á–Ω—ã–π —á–∞—Ç
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç–µ ‚Äî –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
/rag_stats
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ.

## üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ö–∞–∂–¥—ã–π –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:

- `source` ‚Äî –∏–º—è —Ñ–∞–π–ª–∞
- `doc_id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `chunk_index` ‚Äî –Ω–æ–º–µ—Ä —á–∞–Ω–∫–∞
- `uploaded_by` ‚Äî username –∑–∞–≥—Ä—É–∑–∏–≤—à–µ–≥–æ
- `user_id` ‚Äî Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `category` ‚Äî "user_upload"
- `title` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

**PDF:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `PyPDF2.PdfReader`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

**Word:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `python-docx`
- –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤—Å–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã

**Excel:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pandas.read_excel`
- –ß–∏—Ç–∞—é—Ç—Å—è –≤—Å–µ –ª–∏—Å—Ç—ã
- –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç

**TXT:**
- –ß–∏—Ç–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8

### –ß–∞–Ω–∫–∏–Ω–≥

```python
RecursiveCharacterTextSplitter(
    chunk_size=500,
    chunk_overlap=50,
    separators=["\n\n", "\n", ". ", " ", ""]
)
```

### –≠–º–±–µ–¥–¥–∏–Ω–≥–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenAI API (`text-embedding-3-small`)
- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 1536
- –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `get_embedding()` –∏–∑ `qdrant_helper.py`

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ Qdrant

- –ö–æ–ª–ª–µ–∫—Ü–∏—è: `hr2137_bot_knowledge_base`
- –ú–µ—Ç—Ä–∏–∫–∞: Cosine similarity
- –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
```
‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 20 –ú–ë
```
**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ —á–∞—Å—Ç–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### –§–æ—Ä–º–∞—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
```
‚ùå –§–æ—Ä–º–∞—Ç `.xyz` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
```
**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ PDF, Word, Excel –∏–ª–∏ TXT.

### –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
```
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PDF —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç (–Ω–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Word/Excel –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

### –û—à–∏–±–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
```
‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞: [–æ–ø–∏—Å–∞–Ω–∏–µ]
```
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant Cloud –∏ API –∫–ª—é—á–∏.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ PDF
```python
pytest test_document_upload.py::test_pdf_upload -v
```

### –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Word
```python
pytest test_document_upload.py::test_docx_upload -v
```

### –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Excel
```python
pytest test_document_upload.py::test_xlsx_upload -v
```

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ

```python
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PDF —Ñ–∞–π–ª
# –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –°–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª ‚Üí /tmp/document.pdf
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç ‚Üí PyPDF2
3. –°–æ–∑–¥–∞–µ—Ç —á–∞–Ω–∫–∏ ‚Üí 15 —á–∞–Ω–∫–æ–≤
4. –ü–æ–ª—É—á–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ ‚Üí OpenAI API
5. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Qdrant ‚Üí 15 —Ç–æ—á–µ–∫
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ
```

## üéØ Use Cases

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–∏
–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –º–µ—Ç–æ–¥–∏—á–∫–∏, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã.

### 2. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ü–µ–Ω –∏ —É—Å–ª—É–≥.

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–ê–Ω–∞–ª–∏–∑ –¢–ó, –¥–æ–≥–æ–≤–æ—Ä–æ–≤, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π.

### 4. –°–æ–∑–¥–∞–Ω–∏–µ FAQ
–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç–æ–≤.

---

**–ì–æ—Ç–æ–≤–æ! –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã! üìö**
