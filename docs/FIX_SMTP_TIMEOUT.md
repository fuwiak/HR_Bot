# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ SMTP

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
TimeoutError: Timed out connecting to smtp.yandex.ru on port 465
```

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç

- **Async –≤–µ—Ä—Å–∏—è:** —Ç–∞–π–º–∞—É—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 30 —Å–µ–∫—É–Ω–¥
- **Sync –≤–µ—Ä—Å–∏—è:** —Ç–∞–π–º–∞—É—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 30 —Å–µ–∫—É–Ω–¥

### 2. –£–ª—É—á—à–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º

- –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ async –≤–µ—Ä—Å–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞ –¥–ª—è –ø–æ—Ä—Ç–∞ 465

### 3. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL

- –î–ª—è –ø–æ—Ä—Ç–∞ 465 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SMTP_SSL` (SSL —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞)
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è STARTTLS (–∫–æ—Ç–æ—Ä—ã–π –¥–ª—è –ø–æ—Ä—Ç–∞ 587)

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–ø—ã—Ç–∫–∞ 1: Async SMTP (aiosmtplib)

1. –ü—Ä–æ–±—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ `aiosmtplib`
2. –¢–∞–π–º–∞—É—Ç: 30 —Å–µ–∫—É–Ω–¥
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SSL –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ü–æ–ø—ã—Ç–∫–∞ 2: Sync SMTP (fallback)

–ï—Å–ª–∏ async –≤–µ—Ä—Å–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `smtplib.SMTP_SSL` (–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ)
3. –¢–∞–π–º–∞—É—Ç: 30 —Å–µ–∫—É–Ω–¥

---

## üìù –õ–æ–≥–∏

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ fallback:

```
‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email (async): [–æ—à–∏–±–∫–∞]
üîÑ –ü—Ä–æ–±—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π SMTP (fallback)...
‚úÖ Email —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π SMTP
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–∫–∞ email —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–µ–µ:
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL –¥–ª—è –ø–æ—Ä—Ç–∞ 465

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–û—à–∏–±–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. Email —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥–µ–∂–Ω–µ–µ! üöÄ
