# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ DATABASE_URL –≤ Railway

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Railway –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:
```
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–°–µ—Ä–≤–∏—Å—ã (Telegram Bot, Backend API) –ø—ã—Ç–∞—é—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic, –Ω–æ –Ω–µ –º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ `DATABASE_URL` –∏ –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `localhost:5432`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ Railway.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤—å—Ç–µ DATABASE_URL –≤ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å

–í Railway Dashboard –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

**Settings ‚Üí Variables ‚Üí Add Variable:**

```env
DATABASE_URL=${{Postgres.DATABASE_URL}}
```

### 2. –ö–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ DATABASE_URL:

- ‚úÖ **Telegram Bot** (HR_Bot) - –Ω—É–∂–µ–Ω DATABASE_URL
- ‚úÖ **Backend API** - –Ω—É–∂–µ–Ω DATABASE_URL
- ‚ùå **Mini App (Frontend)** - –ù–ï –Ω—É–∂–µ–Ω DATABASE_URL

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL...
   üîÑ –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π Alembic...
   ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
   ```

## üõ† –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ

1. **alembic/env.py** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Railway –æ–∫—Ä—É–∂–µ–Ω–∏–µ
2. **Dockerfile** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
3. **Dockerfile.backend** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
4. **backend/Dockerfile** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –±—É–¥–µ—Ç —è—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–º–µ—Å—Ç–æ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ localhost.

## üìã –ß–µ–∫–ª–∏—Å—Ç

- [ ] DATABASE_URL –¥–æ–±–∞–≤–ª–µ–Ω –≤ Telegram Bot —Å–µ—Ä–≤–∏—Å
- [ ] DATABASE_URL –¥–æ–±–∞–≤–ª–µ–Ω –≤ Backend API —Å–µ—Ä–≤–∏—Å
- [ ] –°–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
