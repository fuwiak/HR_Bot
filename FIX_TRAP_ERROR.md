# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "trap: SIGTERM: bad trap"

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–∞ Railway –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```
trap: SIGTERM: bad trap
üöÄ –ó–∞–ø—É—Å–∫ HR2137 Bot...
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/bin/sh` –≤–º–µ—Å—Ç–æ `/bin/bash`
2. `trap SIGTERM SIGINT` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `sh` - –Ω—É–∂–Ω—ã —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã
3. –í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `start.sh` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ `python app.py`

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω `start.sh`:
- –ò–∑–º–µ–Ω–µ–Ω shebang —Å `#!/bin/bash` –Ω–∞ `#!/bin/sh`
- `trap cleanup SIGTERM SIGINT` ‚Üí `trap cleanup 15 2` (—á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `Dockerfile.telegram`:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫: `CMD ["python", "-u", "app.py"]`
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `start.sh`
- –§–ª–∞–≥ `-u` –¥–ª—è unbuffered output (–ª—É—á—à–µ –¥–ª—è –ª–æ–≥–æ–≤)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω `run_local.sh`:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. **Railway Dashboard** ‚Üí –°–µ—Ä–≤–∏—Å ‚Üí **Settings** ‚Üí **Build** ‚Üí **Dockerfile Path**: `Dockerfile.telegram`
2. **CMD** –≤ Dockerfile: `CMD ["python", "-u", "app.py"]` (–Ω–µ `CMD ["sh", "start.sh"]`)
3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üîÑ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ –Ω–∞ Railway
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `trap: SIGTERM: bad trap`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∏–∑ `app.py`, –∞ –Ω–µ –∏–∑ `start.sh`

---

**–ì–æ—Ç–æ–≤–æ! –û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚úÖ**
