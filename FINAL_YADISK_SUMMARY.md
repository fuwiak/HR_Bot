# üéâ Yandex Disk + Email + –ì–µ–Ω–µ—Ä–∞—Ü–∏—è - –ì–û–¢–û–í–û!

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. üìÇ Yandex Disk API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ú–æ–¥—É–ª—å:** `yandex_disk_helper.py`

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ `get_disk_info()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏—Å–∫–µ (–º–µ—Å—Ç–æ)
- ‚úÖ `list_files()` - —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ
- ‚úÖ `search_files()` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- ‚úÖ `get_recent_files()` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ `download_file_content()` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ `read_text_file()` - —á—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ `get_file_type()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
- ‚úÖ `format_file_size()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞

**–ö–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ:**
- `/yadisk_list [–ø—É—Ç—å]` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤
- `/yadisk_search [–∑–∞–ø—Ä–æ—Å]` - –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤
- `/yadisk_recent` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã

---

### 2. ü§ñ –§–æ–Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä

**–ú–æ–¥—É–ª—å:** `yadisk_indexer.py`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫
- üìÑ –°–∫–∞—á–∏–≤–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã
- üß© –†–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ —á–∞–Ω–∫–∏ (1000 —Å–∏–º–≤–æ–ª–æ–≤)
- üî¢ –°–æ–∑–¥–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (OpenAI/OpenRouter)
- üíæ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Qdrant Cloud

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- `.txt`, `.md` - —Ç–µ–∫—Å—Ç
- `.pdf` - PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `.docx` - Word –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `.xlsx`, `.xls` - Excel —Ç–∞–±–ª–∏—Ü—ã
- `.csv`, `.json`, `.xml` - –¥–∞–Ω–Ω—ã–µ

**–°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `start_yadisk_indexer.sh` - –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
- `stop_yadisk_indexer.sh` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- `yadisk-indexer.service` - systemd —Å–µ—Ä–≤–∏—Å
- `Dockerfile.yadisk` - Docker –æ–±—Ä–∞–∑

---

### 3. üìß Email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ö–æ–º–∞–Ω–¥—ã:**
- `/email_check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –ø–∏—Å–µ–º
- `/email_draft [—Ç–µ–∫—Å—Ç]` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ß—Ç–µ–Ω–∏–µ –ø–∏—Å–µ–º —á–µ—Ä–µ–∑ IMAP
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –¥–ª—è —É–º–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

---

### 4. üí° –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ö–æ–º–∞–Ω–¥—ã:**
- `/demo_proposal [–∑–∞–ø—Ä–æ—Å]` - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
- `/hypothesis [–æ–ø–∏—Å–∞–Ω–∏–µ]` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑
- `/report [–ø—Ä–æ–µ–∫—Ç]` - –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É –∏–∑ WEEEK
- `/summary [–ø—Ä–æ–µ–∫—Ç]` - –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –≥–∏–ø–æ—Ç–µ–∑
- ‚úÖ –û—Ç—á–µ—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∏ –≤—ã–∂–∏–º–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **YANDEX_DISK_INTEGRATION.md** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–æ–º
2. **YADISK_INDEXER_GUIDE.md** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä—É
3. **YADISK_QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 –∫–æ–º–∞–Ω–¥—ã)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–∞

```bash
# –¢–æ–∫–µ–Ω —É–∂–µ –≤ .env!
./start_yadisk_indexer.sh
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏
tail -f logs/yadisk_indexer.out
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ –±–æ—Ç–µ

```bash
# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
/yadisk_list

# –ü–æ–∏—Å–∫
/yadisk_search –¥–æ–≥–æ–≤–æ—Ä

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã
/yadisk_recent
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –í .env —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

```env
# Yandex Disk
YANDEX_TOKEN=y0__xDwjeyGARi1ujwg-6Lo3RVdezzMTmMlylbqtmwcpcYAWEQ5Dg

# Qdrant
QDRANT_URL=https://...
QDRANT_API_KEY=...

# OpenAI (–¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤)
OPENAI_API_KEY=...

# Email
YANDEX_EMAIL=...
YANDEX_PASSWORD=...
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```env
# –ü–∞–ø–∫–∏ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
YADISK_WATCH_FOLDERS=/

# –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–µ–∫—É–Ω–¥—ã)
YADISK_SCAN_INTERVAL=300

# –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–ú–ë)
YADISK_MAX_FILE_SIZE=50

# –ö–æ–ª–ª–µ–∫—Ü–∏—è Qdrant
QDRANT_COLLECTION=hr_knowledge_base
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```bash
User: –ó–∞–ø—É—Å–∫–∞—é –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä
Bot:  üöÄ Yandex Disk Indexer –∑–∞–ø—É—â–µ–Ω
      üìã –õ–æ–≥–∏: logs/yadisk_indexer.out

# –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –≤ –ª–æ–≥–∞—Ö:
‚úÖ –ò—Ç–µ—Ä–∞—Ü–∏—è #1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: 15
üìä –í—Å–µ–≥–æ –≤ –∫–µ—à–µ: 15 —Ñ–∞–π–ª–æ–≤
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤

```bash
User: /yadisk_search –¥–æ–≥–æ–≤–æ—Ä
Bot:  üîç –ù–∞–π–¥–µ–Ω–æ: 3 —Ñ–∞–π–ª–∞
      
      1. üìù –î–æ–≥–æ–≤–æ—Ä_–ê.pdf
         1.2 –ú–ë ‚Ä¢ /–î–æ–≥–æ–≤–æ—Ä—ã/–î–æ–≥–æ–≤–æ—Ä_–ê.pdf
      
      2. üìù –î–æ–≥–æ–≤–æ—Ä_–ë.docx
         850 –ö–ë ‚Ä¢ /–î–æ–≥–æ–≤–æ—Ä—ã/–î–æ–≥–æ–≤–æ—Ä_–ë.docx
```

---

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã

```bash
User: /email_check
Bot:  üìß –ù–æ–≤—ã–µ –ø–∏—Å—å–º–∞ (2)
      
      1. –û—Ç: client@company.com
         –¢–µ–º–∞: –í–æ–ø—Ä–æ—Å –ø–æ –ö–ü
         –î–∞—Ç–∞: 19.12.2024 15:30
      
      2. –û—Ç: partner@firm.ru
         –¢–µ–º–∞: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ
         –î–∞—Ç–∞: 19.12.2024 14:15
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü

```bash
User: /demo_proposal –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ CRM —Å–∏—Å—Ç–µ–º—ã
Bot:  üìÑ –ö–û–ú–ú–ï–†–ß–ï–°–ö–û–ï –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï
      
      –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ CRM —Å–∏—Å—Ç–µ–º—ã
      
      –û–ø–∏—Å–∞–Ω–∏–µ:
      –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π CRM —Å–∏—Å—Ç–µ–º—ã...
      
      –≠—Ç–∞–ø—ã:
      1. –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (1-2 –Ω–µ–¥–µ–ª–∏)
      2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –¢–ó (1 –Ω–µ–¥–µ–ª—è)
      ...
      
      –°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç 500 000 ‚ÇΩ
```

---

### –ü—Ä–∏–º–µ—Ä 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑

```bash
User: /hypothesis –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏ HR-–∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥–∞
Bot:  üí° –ì–ò–ü–û–¢–ï–ó–´
      
      1. –ì–∏–ø–æ—Ç–µ–∑–∞: –î–æ–±–∞–≤–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
         –ü—Ä–æ–≤–µ—Ä–∫–∞: A/B —Ç–µ—Å—Ç –ª–µ–Ω–¥–∏–Ω–≥–∞
         –û–∂–∏–¥–∞–Ω–∏–µ: +30% –∫–æ–Ω–≤–µ—Ä—Å–∏—è
      
      2. –ì–∏–ø–æ—Ç–µ–∑–∞: –°–æ–∑–¥–∞—Ç—å –∫–µ–π—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
         –ü—Ä–æ–≤–µ—Ä–∫–∞: –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ
         –û–∂–∏–¥–∞–Ω–∏–µ: +20% –¥–æ–≤–µ—Ä–∏–µ
      ...
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Yandex Disk    ‚îÇ
‚îÇ  (—Ñ–∞–π–ª—ã)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Indexer        ‚îÇ
‚îÇ  ‚Ä¢ –°–∫–∞–Ω–∏—Ä—É–µ—Ç    ‚îÇ
‚îÇ  ‚Ä¢ –°–∫–∞—á–∏–≤–∞–µ—Ç    ‚îÇ
‚îÇ  ‚Ä¢ –ò–∑–≤–ª–µ–∫–∞–µ—Ç    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Text Splitter  ‚îÇ
‚îÇ  (—á–∞–Ω–∫–∏)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Embeddings     ‚îÇ
‚îÇ  (OpenAI)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Qdrant Cloud   ‚îÇ
‚îÇ  (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RAG

```
1. User –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É
   ‚Üì
2. –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–∞
   ‚Üì
3. –ò—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —á–∞–Ω–∫–∏ –≤ Qdrant
   ‚Üì
4. –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
   ‚Üì
5. LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   ‚Üì
6. User –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–∞

```bash
# –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω?
ps aux | grep yadisk_indexer

# PID
cat yadisk_indexer.pid

# –õ–æ–≥–∏
tail -f logs/yadisk_indexer.out
tail -f yadisk_indexer.log
```

---

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ Qdrant

```python
from qdrant_helper import get_qdrant_client

client = get_qdrant_client()

# –í—Å–µ–≥–æ —Ç–æ—á–µ–∫
count = client.count(collection_name="hr_knowledge_base")
print(f"–¢–æ—á–µ–∫ –≤ Qdrant: {count.count}")

# –¢–æ—á–∫–∏ —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
results = client.scroll(
    collection_name="hr_knowledge_base",
    scroll_filter={"must": [{"key": "source", "match": {"value": "yadisk"}}]},
    limit=1
)
print(f"–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞")
```

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç —Ç–µ–ø–µ—Ä—å:

1. ‚úÖ **–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–µ
   - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ RAG
   - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

2. ‚úÖ **–†–∞–±–æ—Ç–∞ —Å –ø–æ—á—Ç–æ–π:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –ø–∏—Å–µ–º
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
   - –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

3. ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
   - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
   - –ì–∏–ø–æ—Ç–µ–∑—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
   - –û—Ç—á–µ—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É
   - –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

4. ‚úÖ **WEEEK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
   - –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–Ω—é

5. ‚úÖ **RAG –ø–æ–∏—Å–∫:**
   - –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
   - –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üö¢ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä –∫–∞–∫ —Å–µ—Ä–≤–∏—Å:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
railway service create yadisk-indexer

# 2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
# .railway/yadisk-indexer.toml:
[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.yadisk"

[deploy]
startCommand = "python -u yadisk_indexer.py"
restartPolicyType = "ON_FAILURE"

# 3. –î–µ–ø–ª–æ–π
railway up --service yadisk-indexer

# 4. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway dashboard
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] –ú–æ–¥—É–ª—å `yandex_disk_helper.py` —Å–æ–∑–¥–∞–Ω
- [x] –ú–æ–¥—É–ª—å `yadisk_indexer.py` —Å–æ–∑–¥–∞–Ω
- [x] –ö–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ `/yadisk_*` –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –ö–æ–º–∞–Ω–¥—ã email `/email_*` –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –ö–æ–º–∞–Ω–¥—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã
- [x] Dockerfile –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–∞
- [x] Systemd —Å–µ—Ä–≤–∏—Å
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —Ñ–∞–π–ª–∞)
- [x] YANDEX_TOKEN –≤ .env
- [x] YANDEX_TOKEN –≤ Railway variables
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤

---

## üéâ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**

```bash
./start_yadisk_indexer.sh
```

**–ò –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- üìÇ –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
- üîç –°–¥–µ–ª–∞–µ—Ç –∏—Ö –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
- üí° –ë—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- üìß –†–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ—á—Ç–æ–π
- üéØ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç

**–í–°–Å –†–ê–ë–û–¢–ê–ï–¢! üöÄüéâ**
